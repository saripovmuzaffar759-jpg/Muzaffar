<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VideoCut Pro - –†–µ–¥–∞–∫—Ç–æ—Ä –≤–∏–¥–µ–æ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Arial, sans-serif;
        }

        body {
            background: #000;
            color: #fff;
            overflow-x: hidden;
        }

        /* –®–∞–ø–∫–∞ */
        .header {
            height: 60px;
            background: #1a1a1a;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
            border-bottom: 1px solid #333;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 20px;
            font-weight: bold;
            color: #ff375f;
        }

        .export-btn {
            background: #ff375f;
            color: white;
            border: none;
            padding: 8px 24px;
            border-radius: 20px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .export-btn:hover {
            background: #ff1e4d;
            transform: scale(1.05);
        }

        /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä */
        .main-container {
            margin-top: 60px;
            display: flex;
            min-height: calc(100vh - 210px);
        }

        /* –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å - –º–µ–¥–∏–∞ */
        .left-panel {
            width: 300px;
            background: #111;
            border-right: 1px solid #333;
            padding: 20px;
            overflow-y: auto;
        }

        .media-list {
            margin-top: 20px;
        }

        .media-item {
            background: #222;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: all 0.3s;
        }

        .media-item:hover {
            background: #333;
            transform: translateX(5px);
        }

        .media-item.active {
            background: #ff375f;
        }

        /* –¶–µ–Ω—Ç—Ä - –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä */
        .center-panel {
            flex: 1;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: #000;
        }

        .preview-container {
            width: 100%;
            max-width: 800px;
            background: #000;
            border-radius: 12px;
            overflow: hidden;
            position: relative;
        }

        .video-wrapper {
            position: relative;
            width: 100%;
        }

        #mainVideo {
            width: 100%;
            display: block;
        }

        #nextVideo {
            width: 100%;
            display: none;
        }

        .transition-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: none;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            font-weight: bold;
        }

        .preview-controls {
            margin-top: 20px;
            display: flex;
            gap: 15px;
        }

        .control-btn {
            background: #333;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
        }

        .control-btn:hover {
            background: #444;
        }

        .control-btn.active {
            background: #ff375f;
        }

        /* –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å - –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã */
        .right-panel {
            width: 350px;
            background: #111;
            border-left: 1px solid #333;
            padding: 20px;
            overflow-y: auto;
        }

        .tools-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 15px;
        }

        .tool-card {
            background: #222;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .tool-card:hover {
            background: #333;
            transform: translateY(-2px);
        }

        .tool-card.active {
            background: #ff375f;
        }

        .tool-icon {
            font-size: 24px;
            margin-bottom: 8px;
        }

        /* –ü–∞–Ω–µ–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ */
        .settings-panel {
            margin-top: 20px;
            background: #222;
            border-radius: 10px;
            padding: 20px;
            display: none;
        }

        .settings-panel.active {
            display: block;
        }

        .slider-group {
            margin: 15px 0;
        }

        .slider-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }

        .slider {
            width: 100%;
            height: 6px;
            background: #444;
            border-radius: 3px;
            outline: none;
            -webkit-appearance: none;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #ff375f;
            cursor: pointer;
        }

        /* –ü–µ—Ä–µ—Ö–æ–¥—ã */
        .transitions-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 15px;
        }

        .transition-card {
            background: #333;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .transition-card:hover {
            background: #444;
        }

        .transition-card.active {
            background: #ff375f;
        }

        /* –¢–∞–π–º–ª–∞–π–Ω */
        .timeline {
            height: 150px;
            background: #111;
            border-top: 1px solid #333;
            padding: 15px;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            display: flex;
            align-items: center;
        }

        .timeline-track {
            flex: 1;
            height: 80px;
            background: #222;
            border-radius: 8px;
            position: relative;
            overflow-x: auto;
            padding: 10px;
            display: flex;
            gap: 10px;
        }

        .clip {
            min-width: 100px;
            height: 60px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            position: relative;
            flex-shrink: 0;
        }

        .clip-transition {
            width: 20px;
            height: 60px;
            background: #ff375f;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            flex-shrink: 0;
        }

        /* –ó–∞–≥—Ä—É–∑—á–∏–∫ */
        .loader {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.9);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            gap: 20px;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 3px solid #333;
            border-top-color: #ff375f;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ */
        .notification {
            position: fixed;
            top: 70px;
            right: 20px;
            background: #ff375f;
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            display: none;
            z-index: 3000;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.8);
            z-index: 4000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: #222;
            border-radius: 12px;
            padding: 30px;
            max-width: 500px;
            width: 90%;
        }

        .modal-title {
            font-size: 24px;
            margin-bottom: 20px;
            text-align: center;
        }

        .modal-buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .modal-btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
        }

        .modal-btn.primary {
            background: #ff375f;
            color: white;
        }

        .modal-btn.secondary {
            background: #444;
            color: white;
        }

        /* –ü–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä */
        .placeholder {
            text-align: center;
            padding: 40px;
            color: #666;
        }

        .placeholder-icon {
            font-size: 48px;
            margin-bottom: 20px;
        }

        /* –°–∫—Ä—ã—Ç—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã */
        .hidden {
            display: none !important;
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 1200px) {
            .left-panel, .right-panel {
                width: 250px;
            }
        }

        @media (max-width: 768px) {
            .main-container {
                flex-direction: column;
            }
            .left-panel, .right-panel {
                width: 100%;
                border: none;
                border-bottom: 1px solid #333;
            }
            .timeline {
                position: relative;
                margin-top: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- –®–∞–ø–∫–∞ -->
    <div class="header">
        <div class="logo">
            <span>üé¨</span>
            VideoCut Pro
        </div>
        <button class="export-btn" onclick="exportVideo()">–≠–∫—Å–ø–æ—Ä—Ç</button>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
    <div class="main-container">
        <!-- –õ–µ–≤–∞—è –ø–∞–Ω–µ–ª—å -->
        <div class="left-panel">
            <h3>–ú–µ–¥–∏–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞</h3>
            <div class="media-list" id="mediaList">
                <!-- –í–∏–¥–µ–æ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è —Å—é–¥–∞ -->
            </div>
            <button class="control-btn" onclick="addVideo()" style="width: 100%; margin-top: 10px;">
                <span>‚ûï</span> –î–æ–±–∞–≤–∏—Ç—å –≤–∏–¥–µ–æ
            </button>
        </div>

        <!-- –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –ø–∞–Ω–µ–ª—å -->
        <div class="center-panel">
            <div class="preview-container">
                <div class="video-wrapper">
                    <video id="mainVideo" controls></video>
                    <video id="nextVideo"></video>
                    <div class="transition-overlay" id="transitionOverlay">
                        –ü–µ—Ä–µ—Ö–æ–¥...
                    </div>
                </div>
                <div class="placeholder" id="placeholder">
                    <div class="placeholder-icon">üé¨</div>
                    <p>–î–æ–±–∞–≤—å—Ç–µ –≤–∏–¥–µ–æ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</p>
                </div>
            </div>
            
            <div class="preview-controls">
                <button class="control-btn" onclick="playPause()" id="playBtn">
                    <span>‚ñ∂Ô∏è</span> –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
                </button>
                <button class="control-btn" onclick="addNextVideo()">
                    <span>‚ûï</span> –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ
                </button>
                <button class="control-btn" onclick="applyTransition()">
                    <span>üîÑ</span> –ü—Ä–∏–º–µ–Ω–∏—Ç—å –ø–µ—Ä–µ—Ö–æ–¥
                </button>
                <button class="control-btn" onclick="previewTransition()">
                    <span>üëÅÔ∏è</span> –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä
                </button>
            </div>
        </div>

        <!-- –ü—Ä–∞–≤–∞—è –ø–∞–Ω–µ–ª—å -->
        <div class="right-panel">
            <h3>–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã</h3>
            <div class="tools-grid">
                <div class="tool-card active" data-tool="filters" onclick="selectTool('filters')">
                    <div class="tool-icon">üé®</div>
                    <div>–§–∏–ª—å—Ç—Ä—ã</div>
                </div>
                <div class="tool-card" data-tool="text" onclick="selectTool('text')">
                    <div class="tool-icon">üìù</div>
                    <div>–¢–µ–∫—Å—Ç</div>
                </div>
                <div class="tool-card" data-tool="effects" onclick="selectTool('effects')">
                    <div class="tool-icon">‚ú®</div>
                    <div>–≠—Ñ—Ñ–µ–∫—Ç—ã</div>
                </div>
                <div class="tool-card" data-tool="transitions" onclick="selectTool('transitions')">
                    <div class="tool-icon">üîÑ</div>
                    <div>–ü–µ—Ä–µ—Ö–æ–¥—ã</div>
                </div>
                <div class="tool-card" data-tool="speed" onclick="selectTool('speed')">
                    <div class="tool-icon">‚ö°</div>
                    <div>–°–∫–æ—Ä–æ—Å—Ç—å</div>
                </div>
                <div class="tool-card" data-tool="audio" onclick="selectTool('audio')">
                    <div class="tool-icon">üéµ</div>
                    <div>–ê—É–¥–∏–æ</div>
                </div>
            </div>

            <!-- –ü–∞–Ω–µ–ª—å —Ñ–∏–ª—å—Ç—Ä–æ–≤ -->
            <div class="settings-panel active" id="filtersPanel">
                <h4>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ñ–∏–ª—å—Ç—Ä–æ–≤</h4>
                <div class="slider-group">
                    <div class="slider-label">
                        <span>–Ø—Ä–∫–æ—Å—Ç—å</span>
                        <span id="brightnessValue">100%</span>
                    </div>
                    <input type="range" class="slider" id="brightness" min="0" max="200" value="100">
                </div>
                <div class="slider-group">
                    <div class="slider-label">
                        <span>–ö–æ–Ω—Ç—Ä–∞—Å—Ç</span>
                        <span id="contrastValue">100%</span>
                    </div>
                    <input type="range" class="slider" id="contrast" min="0" max="200" value="100">
                </div>
                <div class="slider-group">
                    <div class="slider-label">
                        <span>–ù–∞—Å—ã—â–µ–Ω–Ω–æ—Å—Ç—å</span>
                        <span id="saturationValue">100%</span>
                    </div>
                    <input type="range" class="slider" id="saturation" min="0" max="200" value="100">
                </div>
                <button class="control-btn" onclick="applyFilters()" style="width: 100%; margin-top: 15px;">
                    <span>‚úÖ</span> –ü—Ä–∏–º–µ–Ω–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã
                </button>
            </div>

            <!-- –ü–∞–Ω–µ–ª—å —Ç–µ–∫—Å—Ç–∞ -->
            <div class="settings-panel" id="textPanel">
                <h4>–î–æ–±–∞–≤–∏—Ç—å —Ç–µ–∫—Å—Ç</h4>
                <input type="text" id="textInput" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç..." 
                       style="width: 100%; padding: 10px; margin: 10px 0; background: #333; color: white; border: none; border-radius: 6px;">
                <div class="slider-group">
                    <div class="slider-label">
                        <span>–†–∞–∑–º–µ—Ä —Ç–µ–∫—Å—Ç–∞</span>
                        <span id="textSizeValue">24px</span>
                    </div>
                    <input type="range" class="slider" id="textSize" min="12" max="72" value="24">
                </div>
                <button class="control-btn" onclick="addText()" style="width: 100%; margin-top: 10px;">
                    <span>‚ûï</span> –î–æ–±–∞–≤–∏—Ç—å —Ç–µ–∫—Å—Ç
                </button>
            </div>

            <!-- –ü–∞–Ω–µ–ª—å –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ -->
            <div class="settings-panel" id="transitionsPanel">
                <h4>–í—ã–±–µ—Ä–∏—Ç–µ –ø–µ—Ä–µ—Ö–æ–¥</h4>
                <div class="transitions-grid">
                    <div class="transition-card" data-transition="fade" onclick="selectTransition('fade')">
                        <div class="tool-icon">üîÖ</div>
                        <div>–ü–ª–∞–≤–Ω—ã–π</div>
                    </div>
                    <div class="transition-card" data-transition="slide" onclick="selectTransition('slide')">
                        <div class="tool-icon">‚û°Ô∏è</div>
                        <div>–°–¥–≤–∏–≥</div>
                    </div>
                    <div class="transition-card" data-transition="zoom" onclick="selectTransition('zoom')">
                        <div class="tool-icon">üîç</div>
                        <div>–£–≤–µ–ª–∏—á–µ–Ω–∏–µ</div>
                    </div>
                    <div class="transition-card" data-transition="rotate" onclick="selectTransition('rotate')">
                        <div class="tool-icon">üîÑ</div>
                        <div>–í—Ä–∞—â–µ–Ω–∏–µ</div>
                    </div>
                    <div class="transition-card" data-transition="glitch" onclick="selectTransition('glitch')">
                        <div class="tool-icon">üåÄ</div>
                        <div>–ì–ª–∏—Ç—á</div>
                    </div>
                </div>
                <div class="slider-group" style="margin-top: 20px;">
                    <div class="slider-label">
                        <span>–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–µ—Ä–µ—Ö–æ–¥–∞</span>
                        <span id="transitionDurationValue">1—Å</span>
                    </div>
                    <input type="range" class="slider" id="transitionDuration" min="0.5" max="3" step="0.5" value="1">
                </div>
            </div>
        </div>
    </div>

    <!-- –¢–∞–π–º–ª–∞–π–Ω -->
    <div class="timeline">
        <div class="timeline-track" id="timelineTrack">
            <!-- –ö–ª–∏–ø—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è —Å—é–¥–∞ -->
        </div>
    </div>

    <!-- –ó–∞–≥—Ä—É–∑—á–∏–∫ -->
    <div class="loader" id="loader">
        <div class="spinner"></div>
        <div id="loaderText">–û–±—Ä–∞–±–æ—Ç–∫–∞ –≤–∏–¥–µ–æ...</div>
    </div>

    <!-- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ -->
    <div class="notification" id="notification">
        <span id="notificationText"></span>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∞ -->
    <div class="modal" id="exportModal">
        <div class="modal-content">
            <div class="modal-title">–≠–∫—Å–ø–æ—Ä—Ç –≤–∏–¥–µ–æ</div>
            <div class="slider-group">
                <div class="slider-label">
                    <span>–ö–∞—á–µ—Å—Ç–≤–æ</span>
                    <span id="qualityValue">–í—ã—Å–æ–∫–æ–µ</span>
                </div>
                <input type="range" class="slider" id="quality" min="1" max="3" value="3">
            </div>
            <div class="slider-group">
                <div class="slider-label">
                    <span>–§–æ—Ä–º–∞—Ç</span>
                    <span id="formatValue">MP4</span>
                </div>
                <select id="formatSelect" style="width: 100%; padding: 10px; background: #333; color: white; border: none; border-radius: 6px; margin-top: 5px;">
                    <option value="mp4">MP4</option>
                    <option value="webm">WebM</option>
                    <option value="gif">GIF</option>
                </select>
            </div>
            <div class="modal-buttons">
                <button class="modal-btn primary" onclick="startExport()">–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                <button class="modal-btn secondary" onclick="closeModal()">–û—Ç–º–µ–Ω–∞</button>
            </div>
        </div>
    </div>

    <!-- –°–∫—Ä—ã—Ç—ã–π input –¥–ª—è –≤–∏–¥–µ–æ -->
    <input type="file" id="videoInput" accept="video/*" multiple style="display: none;">

    <script>
        // –û—Å–Ω–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let mainVideo = document.getElementById('mainVideo');
        let nextVideo = document.getElementById('nextVideo');
        let mediaList = document.getElementById('mediaList');
        let videoInput = document.getElementById('videoInput');
        let currentVideos = [];
        let isPlaying = false;
        let currentTool = 'filters';
        let selectedTransition = 'fade';
        let transitionDuration = 1;

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        function init() {
            setupEventListeners();
            updateToolPanel();
            showNotification('VideoCut Pro –∑–∞–≥—Ä—É–∂–µ–Ω. –î–æ–±–∞–≤—å—Ç–µ –≤–∏–¥–µ–æ –¥–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã.', 3000);
        }

        // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
        function setupEventListeners() {
            // –í—ã–±–æ—Ä –≤–∏–¥–µ–æ —Ñ–∞–π–ª–æ–≤
            videoInput.addEventListener('change', handleVideoSelect);
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ª–∞–π–¥–µ—Ä–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
            document.getElementById('brightness').addEventListener('input', function() {
                document.getElementById('brightnessValue').textContent = this.value + '%';
            });
            
            document.getElementById('contrast').addEventListener('input', function() {
                document.getElementById('contrastValue').textContent = this.value + '%';
            });
            
            document.getElementById('saturation').addEventListener('input', function() {
                document.getElementById('saturationValue').textContent = this.value + '%';
            });
            
            document.getElementById('textSize').addEventListener('input', function() {
                document.getElementById('textSizeValue').textContent = this.value + 'px';
            });
            
            document.getElementById('transitionDuration').addEventListener('input', function() {
                transitionDuration = parseFloat(this.value);
                document.getElementById('transitionDurationValue').textContent = this.value + '—Å';
            });
            
            document.getElementById('quality').addEventListener('input', function() {
                const qualities = ['–ù–∏–∑–∫–æ–µ', '–°—Ä–µ–¥–Ω–µ–µ', '–í—ã—Å–æ–∫–æ–µ'];
                document.getElementById('qualityValue').textContent = qualities[this.value - 1];
            });
            
            document.getElementById('formatSelect').addEventListener('change', function() {
                document.getElementById('formatValue').textContent = this.value.toUpperCase();
            });
        }

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–∏–¥–µ–æ
        function addVideo() {
            videoInput.click();
        }

        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ –≤–∏–¥–µ–æ
        function handleVideoSelect(event) {
            const files = Array.from(event.target.files);
            
            files.forEach(file => {
                if (file.type.startsWith('video/')) {
                    const videoUrl = URL.createObjectURL(file);
                    const videoData = {
                        id: Date.now() + Math.random(),
                        name: file.name,
                        url: videoUrl,
                        duration: 0,
                        element: null
                    };
                    
                    currentVideos.push(videoData);
                    
                    // –°–æ–∑–¥–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç video –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
                    const tempVideo = document.createElement('video');
                    tempVideo.src = videoUrl;
                    tempVideo.onloadedmetadata = function() {
                        videoData.duration = tempVideo.duration;
                        
                        // –î–æ–±–∞–≤–ª—è–µ–º –≤ —Å–ø–∏—Å–æ–∫ –º–µ–¥–∏–∞
                        addToMediaList(videoData);
                        
                        // –ï—Å–ª–∏ —ç—Ç–æ –ø–µ—Ä–≤–æ–µ –≤–∏–¥–µ–æ, –∑–∞–≥—Ä—É–∂–∞–µ–º –≤ –ø–ª–µ–µ—Ä
                        if (currentVideos.length === 1) {
                            loadVideo(videoData);
                        }
                        
                        // –î–æ–±–∞–≤–ª—è–µ–º –≤ —Ç–∞–π–º–ª–∞–π–Ω
                        addToTimeline(videoData);
                    };
                }
            });
            
            if (files.length > 0) {
                showNotification(`–î–æ–±–∞–≤–ª–µ–Ω–æ ${files.length} –≤–∏–¥–µ–æ`, 2000);
            }
        }

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ —Å–ø–∏—Å–æ–∫ –º–µ–¥–∏–∞
        function addToMediaList(videoData) {
            const mediaItem = document.createElement('div');
            mediaItem.className = 'media-item';
            mediaItem.innerHTML = `
                <span>üé¨</span>
                <div>
                    <div style="font-weight: bold;">${videoData.name}</div>
                    <div style="font-size: 12px; color: #999;">${formatTime(videoData.duration)}</div>
                </div>
            `;
            mediaItem.onclick = () => loadVideo(videoData);
            mediaList.appendChild(mediaItem);
        }

        // –ó–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ –≤ –ø–ª–µ–µ—Ä
        function loadVideo(videoData) {
            mainVideo.src = videoData.url;
            videoData.element = mainVideo;
            
            // –°–∫—Ä—ã–≤–∞–µ–º –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä
            document.getElementById('placeholder').classList.add('hidden');
            mainVideo.classList.remove('hidden');
            
            showNotification(`–ó–∞–≥—Ä—É–∂–µ–Ω–æ: ${videoData.name}`, 1500);
        }

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è –≤–∏–¥–µ–æ
        function addNextVideo() {
            if (currentVideos.length === 0) {
                showNotification('–°–Ω–∞—á–∞–ª–∞ –¥–æ–±–∞–≤—å—Ç–µ –æ—Å–Ω–æ–≤–Ω–æ–µ –≤–∏–¥–µ–æ', 2000);
                return;
            }
            
            if (currentVideos.length < 2) {
                showNotification('–î–æ–±–∞–≤—å—Ç–µ –µ—â–µ –æ–¥–Ω–æ –≤–∏–¥–µ–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è', 2000);
                videoInput.click();
                return;
            }
            
            // –ù–∞—Ö–æ–¥–∏–º —Å–ª–µ–¥—É—é—â–µ–µ –≤–∏–¥–µ–æ (–ø–æ—Å–ª–µ —Ç–µ–∫—É—â–µ–≥–æ)
            const currentIndex = currentVideos.findIndex(v => v.url === mainVideo.src);
            const nextIndex = (currentIndex + 1) % currentVideos.length;
            const nextVideoData = currentVideos[nextIndex];
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–ª–µ–¥—É—é—â–µ–µ –≤–∏–¥–µ–æ
            nextVideo.src = nextVideoData.url;
            
            showNotification(`–î–æ–±–∞–≤–ª–µ–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ: ${nextVideoData.name}`, 2000);
            
            // –î–æ–±–∞–≤–ª—è–µ–º –ø–µ—Ä–µ—Ö–æ–¥ –≤ —Ç–∞–π–º–ª–∞–π–Ω
            addTransitionToTimeline();
        }

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ —Ç–∞–π–º–ª–∞–π–Ω
        function addToTimeline(videoData) {
            const timeline = document.getElementById('timelineTrack');
            const clip = document.createElement('div');
            clip.className = 'clip';
            clip.innerHTML = `
                <div>${videoData.name.substring(0, 10)}...</div>
                <div style="position: absolute; bottom: 5px; right: 5px; font-size: 10px;">
                    ${formatTime(videoData.duration)}
                </div>
            `;
            timeline.appendChild(clip);
        }

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ —Ç–∞–π–º–ª–∞–π–Ω
        function addTransitionToTimeline() {
            const timeline = document.getElementById('timelineTrack');
            const transition = document.createElement('div');
            transition.className = 'clip-transition';
            transition.innerHTML = '‚áÑ';
            timeline.appendChild(transition);
        }

        // –í—ã–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
        function selectTool(tool) {
            currentTool = tool;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
            document.querySelectorAll('.tool-card').forEach(card => {
                card.classList.remove('active');
                if (card.dataset.tool === tool) {
                    card.classList.add('active');
                }
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –ø–∞–Ω–µ–ª—å
            document.querySelectorAll('.settings-panel').forEach(panel => {
                panel.classList.remove('active');
            });
            document.getElementById(tool + 'Panel').classList.add('active');
        }

        // –í—ã–±–æ—Ä –ø–µ—Ä–µ—Ö–æ–¥–∞
        function selectTransition(type) {
            selectedTransition = type;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
            document.querySelectorAll('.transition-card').forEach(card => {
                card.classList.remove('active');
                if (card.dataset.transition === type) {
                    card.classList.add('active');
                }
            });
            
            showNotification(`–í—ã–±—Ä–∞–Ω –ø–µ—Ä–µ—Ö–æ–¥: ${getTransitionName(type)}`, 1500);
        }

        // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤
        function applyFilters() {
            if (!mainVideo.src) {
                showNotification('–°–Ω–∞—á–∞–ª–∞ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –≤–∏–¥–µ–æ', 2000);
                return;
            }
            
            const brightness = document.getElementById('brightness').value;
            const contrast = document.getElementById('contrast').value;
            const saturation = document.getElementById('saturation').value;
            
            mainVideo.style.filter = `
                brightness(${brightness}%)
                contrast(${contrast}%)
                saturate(${saturation}%)
            `;
            
            if (nextVideo.src) {
                nextVideo.style.filter = mainVideo.style.filter;
            }
            
            showNotification('–§–∏–ª—å—Ç—Ä—ã –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –∫ –≤–∏–¥–µ–æ', 1500);
        }

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
        function addText() {
            const text = document.getElementById('textInput').value;
            if (!text.trim()) {
                showNotification('–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç', 2000);
                return;
            }
            
            // –°–æ–∑–¥–∞–µ–º canvas –¥–ª—è –Ω–∞–ª–æ–∂–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–µ–∫—É—â–∏–π –∫–∞–¥—Ä
            canvas.width = mainVideo.videoWidth || 640;
            canvas.height = mainVideo.videoHeight || 360;
            
            ctx.drawImage(mainVideo, 0, 0, canvas.width, canvas.height);
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–∫—Å—Ç
            const fontSize = parseInt(document.getElementById('textSize').value);
            ctx.font = `bold ${fontSize}px Arial`;
            ctx.fillStyle = 'white';
            ctx.textAlign = 'center';
            ctx.fillText(text, canvas.width / 2, canvas.height / 2);
            
            // –°–æ–∑–¥–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–π URL –¥–ª—è –≤–∏–¥–µ–æ —Å —Ç–µ–∫—Å—Ç–æ–º
            const dataUrl = canvas.toDataURL('image/png');
            
            showNotification(`–¢–µ–∫—Å—Ç "${text}" –¥–æ–±–∞–≤–ª–µ–Ω –∫ –≤–∏–¥–µ–æ`, 2000);
        }

        // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–∞
        function applyTransition() {
            if (!mainVideo.src || !nextVideo.src) {
                showNotification('–ù—É–∂–Ω–æ –¥–≤–∞ –≤–∏–¥–µ–æ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞', 2000);
                return;
            }
            
            showNotification(`–ü—Ä–∏–º–µ–Ω–µ–Ω –ø–µ—Ä–µ—Ö–æ–¥: ${getTransitionName(selectedTransition)}`, 2000);
        }

        // –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –ø–µ—Ä–µ—Ö–æ–¥–∞
        function previewTransition() {
            if (!mainVideo.src || !nextVideo.src) {
                showNotification('–î–æ–±–∞–≤—å—Ç–µ –¥–≤–∞ –≤–∏–¥–µ–æ –¥–ª—è –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞', 2000);
                return;
            }
            
            const overlay = document.getElementById('transitionOverlay');
            overlay.style.display = 'flex';
            overlay.textContent = `–ü–µ—Ä–µ—Ö–æ–¥: ${getTransitionName(selectedTransition)}...`;
            
            // –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º –ø–µ—Ä–µ—Ö–æ–¥
            mainVideo.pause();
            nextVideo.style.display = 'block';
            nextVideo.currentTime = 0;
            nextVideo.play();
            
            // –ß–µ—Ä–µ–∑ —Å–µ–∫—É–Ω–¥—É —Å–∫—Ä—ã–≤–∞–µ–º
            setTimeout(() => {
                overlay.style.display = 'none';
                nextVideo.style.display = 'none';
                nextVideo.pause();
                mainVideo.play();
            }, transitionDuration * 1000);
            
            showNotification('–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –ø–µ—Ä–µ—Ö–æ–¥–∞ –∑–∞–ø—É—â–µ–Ω', 1500);
        }

        // –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ/–ø–∞—É–∑–∞
        function playPause() {
            if (!mainVideo.src) {
                showNotification('–°–Ω–∞—á–∞–ª–∞ –∑–∞–≥—Ä—É–∑–∏—Ç–µ –≤–∏–¥–µ–æ', 2000);
                return;
            }
            
            if (isPlaying) {
                mainVideo.pause();
                document.getElementById('playBtn').innerHTML = '<span>‚ñ∂Ô∏è</span> –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ';
            } else {
                mainVideo.play();
                document.getElementById('playBtn').innerHTML = '<span>‚è∏Ô∏è</span> –ü–∞—É–∑–∞';
            }
            isPlaying = !isPlaying;
        }

        // –≠–∫—Å–ø–æ—Ä—Ç –≤–∏–¥–µ–æ
        function exportVideo() {
            if (!mainVideo.src) {
                showNotification('–°–Ω–∞—á–∞–ª–∞ –¥–æ–±–∞–≤—å—Ç–µ –≤–∏–¥–µ–æ', 2000);
                return;
            }
            
            document.getElementById('exportModal').style.display = 'flex';
        }

        // –ù–∞—á–∞–ª–æ —ç–∫—Å–ø–æ—Ä—Ç–∞
        function startExport() {
            closeModal();
            showLoader('–≠–∫—Å–ø–æ—Ä—Ç –≤–∏–¥–µ–æ...');
            
            // –ò–º–∏—Ç–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
            setTimeout(() => {
                hideLoader();
                
                // –°–æ–∑–¥–∞–µ–º —Å—Å—ã–ª–∫—É –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
                const link = document.createElement('a');
                link.download = `video-cut-${Date.now()}.mp4`;
                link.href = mainVideo.src;
                link.click();
                
                showNotification('–í–∏–¥–µ–æ —É—Å–ø–µ—à–Ω–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–æ!', 3000);
            }, 2000);
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
        function closeModal() {
            document.getElementById('exportModal').style.display = 'none';
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –∑–∞–≥—Ä—É–∑—á–∏–∫
        function showLoader(text) {
            document.getElementById('loaderText').textContent = text;
            document.getElementById('loader').style.display = 'flex';
        }

        // –°–∫—Ä—ã—Ç—å –∑–∞–≥—Ä—É–∑—á–∏–∫
        function hideLoader() {
            document.getElementById('loader').style.display = 'none';
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        function showNotification(text, duration = 3000) {
            const notification = document.getElementById('notification');
            document.getElementById('notificationText').textContent = text;
            notification.style.display = 'block';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, duration);
        }

        // –ü–æ–ª—É—á–∏—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–∞
        function getTransitionName(type) {
            const names = {
                'fade': '–ü–ª–∞–≤–Ω—ã–π',
                'slide': '–°–¥–≤–∏–≥',
                'zoom': '–£–≤–µ–ª–∏—á–µ–Ω–∏–µ',
                'rotate': '–í—Ä–∞—â–µ–Ω–∏–µ',
                'glitch': '–ì–ª–∏—Ç—á'
            };
            return names[type] || type;
        }

        // –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
        function formatTime(seconds) {
            if (!seconds) return '0:00';
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs.toString().padStart(2, '0')}`;
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞–Ω–µ–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
        function updateToolPanel() {
            selectTool(currentTool);
        }

        // –ó–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.onload = init;

        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        window.addVideo = addVideo;
        window.addNextVideo = addNextVideo;
        window.applyTransition = applyTransition;
        window.previewTransition = previewTransition;
        window.playPause = playPause;
        window.selectTool = selectTool;
        window.selectTransition = selectTransition;
        window.applyFilters = applyFilters;
        window.addText = addText;
        window.exportVideo = exportVideo;
        window.startExport = startExport;
        window.closeModal = closeModal;
    </script>
</body>
</html>
